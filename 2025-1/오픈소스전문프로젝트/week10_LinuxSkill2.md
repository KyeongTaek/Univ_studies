# [오픈소스전문프로젝트 10주차]

## ubuntu 명령어

### 파일의 날짜/시간
- `touch [파일명]` : 파일의 수정 시간을 현재 시간으로 변경한다
    - `touch -c [파일명]` : 없는 파일인 경우 더미 파일을 만드는데, c 옵션을 붙이면 더미 파일을 만들지 않는다
    - a 옵션은 접근 시간만, m 옵션은 수정 시간만 변경한다

- `stat [파일명]` : 생성, 접근, 수정에 관한 시간을 보여준다

### 압축 및 해제(zip & tar)
- `zip [결과파일명].zip [압축할 파일/디렉토리]` : 파일을 압축한다
    - 압축을 하는 도구 중 하나로, 설치가 필요하다
    - `zip -r [결과디렉토리명].zip [압축할 디렉토리명]` : 디렉토리를 압축하려면 r 옵션을 붙여야 한다
    - `unzip [결과디렉토리명]` : 해제할 때는 unzip을 사용할 수 있다

- `tar -cvf [결과디렉토리명].tar [디렉토리]` : tar 도구를 이용해 파일을 압축한다
    - 리눅스에서 tar 또한 많이 사용된다
    - `tar -xf [디렉토리명].tar` : 해제할 때는 xf 옵션을 주면 된다

### 네트워크 인터페이스
- `ifconfig` : 모든 *활성된* 네트워크 인터페이스를 확인한다
    - `ifconfig -a` : a 옵션을 주면 모든 네트워크 인터페이스를 확인할 수 있다
    - `ifconfig eth0 up` : ifconfig에 up/down 인자를 주어 네트워크 인터페이스를 활성화/비활성화할 수 있다

- `/etc/netplan/00-installer-config.yaml`을 수정한 후, `sudo netplan apply`를 이용해 수정사항을 적용하면 네트워크 인터페이스에 IP 주소, Netmask 등을 할당할 수 있다

### xargs
- xargs는 공백으로 구분된 연속적인 데이터(data stream)을 다른 명령어에 입력으로 제공한다
- ex. `echo "file1 file2 file3" | xargs touch` : file1, file2, file3을 생성한다
    - `echo "file1 file2 file3" | xargs -p touch` : p 옵션을 주면 실행여부를 확인받은 후 실행한다
    - `echo "file1 file2" | xargs -n 1 -t touch` : t 옵션을 주면 명령어를 화면에 출력하는데, n 옵션으로 1을 주면 하나씩 출력한다
    - `echo "file1 file2" | xargs -t -I % sh -c '{ touch %; ls -l %; }'`
        - 세미콜론(;)은 명령어를 구분하는 역할을 한다
        - I 옵션을 주면 바로 뒤에 있는 문자(%)의 자리에 전달받은 입력을 배치한다
        - 우분투에서 `sh`는 dash shell에 대한 symlink로, 중괄호의 내용을 실행하도록 한다

### 사용자 및 전원 관리
- `adduser [계정명]`: 사용자를 추가한다
- `deluser [계정명]`: 사용자를 삭제한다
    - ~`useradd` 명령도 있으나, 이 경우 필요한 모든 설정을 명시해야 해 잘 쓰이지 않는다~

- `shutdown -s -t [N초]` : N초 뒤에 종료할 수 있다
    - `shutdown -r` : r 옵션을 주면 재부팅을 한다

### 서버 구축 및 관리
- `timedatectl` : 시간대를 확인할 수 있다

- `systemctl start ssh` : 서버를 구축할 때에는 ssh 서버를 열어야 해당 서버에 접속할 수 있다(설치 한 후에!)
    - /etc/ssh/sshd_config 파일을 건드려 설정을 바꿀 수 있다
    - 이후 netstat으로 몇 번 포트에서 열려있는지 확인할 수 있다

- `ufw enable` : 방화벽을 활성화한다
    - `ufw allow 22/tcp` : 접속이 가능하도록, ssh 접속을 허용한다
        - http(80), https(443) 등도 허용해야 한다
    - `ufw status verbose` : 설정된 rule을 확인할 수 있다

- ban list를 설정할 때에는 Fail2Ban이 많이 쓰인다
    - IP를 차단하거나, 실패횟수 등을 설정할 수 있다

- * 정기적인 업데이트는 굉장히 중요하다! *

### 기타 명령어
- `whereis [명령어]` : 명령어의 위치를 알려준다
    - 명령어들은 root 소유의 프로그램이지만, 실행 권한이 일반 사용자에게 열려 있기 때문에 일반 사용자도 쓸 수 있는 것이다

- `[명령어] --help`나 `man [명령어]`를 이용하면 도움말을 볼 수 있다

- `aafire`나 `asciiquarium`처럼, 문자를 이용해 그림을 표현하려는 시도들이 있었다

- `du -hd1` : 각 사용자의 홈에서 사용 중인 디스크 용량을 알 수 있다
    - d1은 depth 1, 즉 각 사용자의 홈보다 아래로 내려가지 않도록 설정하는 것이다
    
<br/>

## Debugging #2

### Takeaway

- 모든 값이 입력으로 주어지는 상황을 상상할 수 있어야 한다
    - 음수, 0, 문자, etc

- 다른 타입의 변수끼리 연산하는 경우 에러가 발생한다

- 멤버함수가 새 객체를 반환하는지, 원본 객체를 수정하는지를 구분해야 한다

- 함수의 인자에 대해서는 공식 문서를 찾을 수 있어야 한다
    - 에러 관련 질문에 대한 ai의 답변을 보면, 에러를 해결하는 데에 드는 비용을 낮출 수 있다

- 부동소수점 타입에 대해 `==`을 사용하는 것은 좋지 않다

- default parameter로 비어 있는 리스트를 주면 안된다
    - 호출될 때마다의 값을 계속 저장하고 있기 때문이다
    - `None`으로 주기!

- 에러메시지 정독하기
    - 로그메시지도 확인하기

- pdb 잘 쓰기
